<?xml version="1.0"?>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Scripting/Tests/PHPUnitConfiguration.xml to edit this template
-->
<phpunit colors="true" 
         bootstrap="./bootstrap.php" 
         stopOnDefect="false"
         stopOnFailure="true">

    <php>
        <ini name="xdebug.mode" value="develop,debug,coverage"/>
        <ini name="xdebug.client_host" value="docker.sandbox.net"/>
        <ini name="xdebug.client_port" value="9003"/>
        <env name="APP_ENV" value="DEV"/>
        <env name="APP_NAME" value="creativelights.in"/>
        <env name="DB_CONNECTION" value="sqlite"/>
        <env name="DB_HOST" value="mysqlserver.sandbox.net"/>
        <env name="DB_USER" value="creativelights"/>
        <env name="DB_NAME" value="CREATIVELIGHTS"/>
        <env name="DB_PASSWORD" value="paSSW0rd"/>
        <env name="DB_PASSWORD_FILE_PATH" value="/run/secrets/mysql-root-password"/>
    </php>

    <source>
        <include>
            <directory suffix=".php">./src/main/php</directory>
        </include>
        <exclude>
            <directory suffix=".php">./vendor</directory>
        </exclude>
    </source>
    
    <coverage includeUncoveredFiles="true">
        <report>
            <clover outputFile="./src/test/reports/clover.xml"/>
            <cobertura outputFile="./src/test/reports/cobertura.xml"/>
            <crap4j outputFile="./src/test/reports/crap4j.xml" threshold="50"/>
            <html outputDirectory="./src/test/reports/html-coverage" lowUpperBound="50" highLowerBound="90"/>
            <php outputFile="./src/test/reports/coverage.php"/>
            <text outputFile="./src/test/reports/coverage.txt" showUncoveredFiles="false" showOnlySummary="true"/>
            <xml outputDirectory="./src/test/reports/xml-coverage"/>
        </report>
    </coverage>
    
    <logging>
        <junit outputFile="./src/test/reports/junit.xml"/>
        <teamcity outputFile="./src/test/reports/teamcity.txt"/>
        <testdoxHtml outputFile="./src/test/reports/testdox.html"/>
        <testdoxText outputFile="./src/test/reports/testdox.txt"/>
    </logging>
        
</phpunit>